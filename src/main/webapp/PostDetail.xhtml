<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<!-- Required meta tags -->
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	</link>
	<title>
		Example
	</title>
</h:head>

<style type="text/css">
	.ui-dataview-header {
		display: none;
	}

	.ui-widget {
		font-family: "Roboto", "Tahoma";
	}

	.ui-widget select {
		font-family: "Roboto", "Tahoma";
	}

	.ui-dataview-list .ui-dataview-row {
		border-bottom: 1px solid #A8A8A8;
		padding: 5px 5px;
		/* with the exported variables from Nova and Luna Themes*/
		border-bottom-color: var(--input-border-color, #A8A8A8);
	}

	.title {
		font-size: 20px;
		font-weight: 500;
	}
</style>

<h:body>
	<h:outputStylesheet library="css" name="bootstrap.css" />
	<ui:insert name="header">
		<ui:include src="header.xhtml" />
	</ui:insert>
	<div class="container">

		<h:outputLabel styleClass="title" value="#{postDetailView.post.title}" />
		<div class="d-flex justify-content-center mt-3 mb-3">
			<p:graphicImage styleClass="img-fluid" value="#{imageStreamer.image}">
				<f:param name="imageId" value="#{postDetailView.post.postImage.id}" />
			</p:graphicImage>
		</div>

		<h:form id="form">
			<div class="form-group">
				<div>

					<p:commandLink update="vote" action="#{postDetailView.upvotePost}">
						<h:outputText value="Upvote" />
					</p:commandLink>
					<h:outputText value="#{postDetailView.post.voteAsString}" id="vote" />
					<p:commandLink update="vote" action="#{postDetailView.downvotePost}">
						<h:outputText value="Downvote" />
					</p:commandLink>
				</div>

				<p:dataView var="comment" value="#{postDetailView.post.comments}" rows="12" paginator="true"
					rowsPerPageTemplate="6,12,16">

					<p:dataViewListItem>
						<h:panelGrid columns="1" style="width:100%" columnClasses="logo,detail">

							<p:outputPanel>
								<h:panelGrid columns="1" cellpadding="1">
									<h:outputText value="#{comment.user.name}" style="font-weight: bold" />


								</h:panelGrid>
							</p:outputPanel>
							<p:outputPanel>
								<h:panelGrid columns="1" cellpadding="1">


									<h:outputText value="#{comment.content}" />
								</h:panelGrid>
							</p:outputPanel>
							<p:outputPanel>
								<h:panelGrid columns="1" cellpadding="1">

									<p:commandLink update="upvote" action="#{postDetailView.upvotePost}">
										<h:outputText value="#{comment.upvoteAsString}" id="upvote" />
									</p:commandLink>
									<p:commandLink update="downvote" action="#{postDetailView.downvotePost}">
										<h:outputText value="#{comment.downvoteAsString}" id="downvote" />
									</p:commandLink>

								</h:panelGrid>
							</p:outputPanel>

						</h:panelGrid>
					</p:dataViewListItem>
				</p:dataView>
			</div>
		</h:form>

	</div>




</h:body>

</html>